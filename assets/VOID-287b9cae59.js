console.log(" %c Theme VOID %c https://blog.imalan.cn/ ","color: #fadfa3; background: #23b7e5; padding:5px;","background: #1c2b36; padding:5px;");var VOID={init:function(){VOID.parsedPhotos(),VOID.parseUrl(),hljs.initHighlightingOnLoad(),VOID.hitokoto(),VOID.handleLike(),$(".item,.board-item").on("touchstart",function(){$(this).addClass("hover")}),$(".item,.board-item").on("touchend",function(){$(this).removeClass("hover")})},parsedPhotos:function(){var i=$("article .photos img").length,s=0;$.each($("article .photos"),function(t,a){var n=1e13;$.each($(a).find("img"),function(t,o){var e=new Image;e.onload=function(){$(o).parent().attr("data-height",String(e.height)),$(o).parent().attr("data-width",String(e.width)),n=n<e.height?n:e.height,$(a).attr("data-min-h",String(n)),i<=++s&&$.each($("article .photos a"),function(t,o){$(o).css("flex",String(parseFloat($(o).parent().attr("data-min-h"))/parseFloat($(o).attr("data-height"))))})},e.src=$(o).attr("src")})})},parseUrl:function(){var e=document.domain;$('a:not(a[href^="#"]):not(".post-like")').each(function(t,o){(!$(o).attr("target")||""==!$(o).attr("target")&&"_self"==!$(o).attr("target"))&&o.host!=e&&$(o).attr("target","_blank")}),VOIDConfig.PJAX&&($.each($('a:not(a[target="_blank"], a[no-pjax])'),function(t,o){o.host==e&&$(o).addClass("pjax")}),$(document).pjax("a.pjax",{container:"#pjax-container",fragment:"#pjax-container",timeout:8e3}))},hitokoto:function(){$.ajax({url:"https://v1.hitokoto.cn/?c=a&encode=json",async:!0,success:function(t){$("#hitokoto").html(t.hitokoto+" - 「"+t.from+"」")}})},beforePjax:function(){NProgress.start(),$(".toggle").removeClass("pushed"),$("body").hasClass("modal-open")&&VOID.closeModal(),$("#nav-mobile").fadeOut(200)},handleLike:function(){if(0<$(".post-like").length){var a=$.macaroon("_syan_like")||"";$.each($(".post-like"),function(t,o){var e=$(o).attr("data-pid");-1!==a.indexOf(","+e+",")&&$(o).addClass("done")}),$(".post-like").click(function(){$(this).addClass("done")})}0<$(".post-like").length&&$(".post-like").click(function(){$(this).addClass("done");var o=$(this),t=o.attr("data-pid"),e=$.macaroon("_syan_like")||"";if(t&&/^\d{1,10}$/.test(t)){if(-1!==e.indexOf(","+t+","))return alert("您已经赞过了！");e?160<=e.length?((e=(e=e.substring(0,e.length-1)).substr(1).split(",")).splice(0,1),e.push(t),e=e.join(","),$.macaroon("_syan_like",","+e+",")):$.macaroon("_syan_like",e+t+","):$.macaroon("_syan_like",","+t+","),$.post(likePath,{cid:t},function(){o.addClass("actived");var t=o.find(".like-num").text();o.find(".like-num").text(parseInt(t)+1)},"json")}})},afterPjax:function(){NProgress.done(),VOID.parsedPhotos(),VOID.parseUrl(),VOID.reload(),VOID.handleLike()},reload:function(){$("pre code").each(function(t,o){hljs.highlightBlock(o)}),"undefined"!=typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub]),"undefined"!=typeof _hmt&&_hmt.push(["_trackPageview",location.pathname+location.search]),$(".item,.board-item").on("touchstart",function(){$(this).addClass("hover")}),$(".item,.board-item").on("touchend",function(){$(this).removeClass("hover")}),0<$(".OwO").length&&new OwO({logo:"OωO",container:document.getElementsByClassName("OwO")[0],target:document.getElementsByClassName("input-area")[0],api:"/usr/themes/VOID/assets/owo/OwO.json",position:"down",width:"400px",maxHeight:"250px"})},scrollTop:0,openModal:function(){VOID.scrollTop=document.scrollingElement.scrollTop,document.body.classList.add("modal-open"),document.body.style.top=-VOID.scrollTop+"px"},closeModal:function(){document.body.classList.remove("modal-open"),document.scrollingElement.scrollTop=VOID.scrollTop}};function startSearch(t){var o=$(t).val();if(o&&""!=o){var e=VOIDConfig.searchBase+o;VOIDConfig.PJAX?$.pjax({url:e,container:"#pjax-container",fragment:"#pjax-container",timeout:8e3}):window.open(e,"_self")}else $(t).attr("placeholder","你还没有输入任何信息")}function enterSearch(t){13==(window.event||arguments.callee.caller.arguments[0]).keyCode&&startSearch(t)}function toggleNav(t){$(t).toggleClass("pushed"),$(t).hasClass("pushed")?($("#nav-mobile").fadeIn(200),VOID.openModal()):(VOID.closeModal(),$("#nav-mobile").fadeOut(200))}function toggleToc(t){$(".TOC").toggleClass("show"),$(t).toggleClass("pushed")}$(document).ready(function(){VOID.init()}),VOIDConfig.PJAX&&($(document).on("pjax:send",function(){VOID.beforePjax()}),$(document).on("pjax:complete",function(){VOID.afterPjax()})),setInterval(function(){var t=(new Date).getTime()-Date.parse(VOIDConfig.buildTime);t=Math.floor(t/1e3);var o=Math.floor(t/86400);t%=86400;var e=Math.floor(t/3600);t%=3600;var a=Math.floor(t/60);t%=60;var n=Math.floor(t/1);$("#uptime").html(o+" 天 "+e+" 小时 "+a+" 分 "+n+" 秒 ")},1e3),$(document).scroll(function(){window.outerWidth<1366||$(".TOC").length<1||($(document).scrollTop()>VOIDConfig.tocOffset-20.1?$(".TOC").addClass("fixed"):$(".TOC").removeClass("fixed"))});